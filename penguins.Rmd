---
title: "penguins"
author: "Rafael Tobias Miras"
date: "2024-09-04"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Instalando paquetes y cargando librerias

```{r}
install.packages('tidyverse')
install.packages('palmerpenguins')
install.packages('ggthemes')

library(tidyverse)
library(palmerpenguins)
library(ggthemes)
```


# Cargamos el df y visualizamos el contenido
```{r}
penguins <- palmerpenguins::penguins
```

```{r}
View(penguins)
glimpse(penguins)
str(penguins)
```


## Gráficos

```{r}
ggplot(
        data = penguins,
        mapping = aes(x = flipper_length_mm, y = body_mass_g, )
) + geom_point()
```

## Añadimos colores por especies

```{r}
ggplot(
        data = penguins,
        mapping = aes(x = flipper_length_mm, y = body_mass_g, color = species)
) + geom_point()
```

## Añadimos curva que muestre la relación entre body_mass y flipper_length para cada especie

```{r}
ggplot(
        data = penguins,
        mapping = aes(x = flipper_length_mm, y = body_mass_g, color = species)
) + 
        geom_point() +
        geom_smooth(method = "lm")
```

Unimos la lineas en una sola aunque no acaba de estar perfectamente definida.

```{r}
ggplot(
        data = penguins,
        mapping = aes(x = flipper_length_mm, y = body_mass_g)
) + 
        geom_point(mapping = aes(color = species)) +
        geom_smooth(method = "lm")
```

A parte de indicar un color por especie es conveniente incluir una forma diferente por especie para facilitar la visualización a
personas con dificultades visuales como pueden ser el daltonismo, añadimos "shape = species" en geom_point

```{r}
ggplot(
        data = penguins,
        mapping = aes(x = flipper_length_mm, y = body_mass_g)
) + 
        geom_point(mapping = aes(color = species, shape = species)) +
        geom_smooth(method = "lm")
```

Le pones título, subtítulo y nombre a los ejes.

```{r}
ggplot(
        data = penguins,
        mapping = aes(x = flipper_length_mm, y = body_mass_g)
) + 
        geom_point(mapping = aes(color = species, shape = species)) +
        geom_smooth(method = "lm") +
        labs(
                title = "Body mass and flipper lenght",
                subtitle = "Dimensions for Adelie, Chinstrap, and Gentoo Penguins",
                x = "Flipper lenght (mm)" , y = "Body mass (g)" ,
                color = "Species" , shape = "Species"
        ) +
        scale_color_colorblind()
```
